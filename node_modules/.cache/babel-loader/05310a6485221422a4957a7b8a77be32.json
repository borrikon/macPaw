{"ast":null,"code":"import { createContext } from 'react';\nimport { observable, action, decorate } from 'mobx';\n\nclass Favorite {\n  addOrRemoveFavorite(joke) {\n    const checkJokeExist = this.favoritesList.findIndex(jokeItem => jokeItem.id === joke.id) !== -1;\n\n    if (checkJokeExist) {\n      this.favoritesList = this.favoritesList.filter(favorite => favorite.id !== joke.id);\n    } else {\n      this.favoritesList.push(joke);\n    }\n\n    this.updateInsideLocalstorage();\n  }\n\n  updateInsideLocalstorage() {\n    localStorage.setItem('favoritesList', JSON.stringify(this.favoritesList));\n  }\n\n  constructor() {\n    this.favoritesList = [];\n    this.favoritesList = JSON.parse(localStorage.getItem('favoritesList')) || [];\n    this.addOrRemoveFavorite = this.addOrRemoveFavorite.bind(this);\n    this.updateInsideLocalstorage = this.updateInsideLocalstorage.bind(this);\n  }\n\n}\n\ndecorate(Favorite, {\n  addOrRemoveFavorite: action,\n  updateInsideLocalstorage: action,\n  changeFillOfHeat: action,\n  favoritesList: observable\n});\nexport const favorite_store = new Favorite();\nexport const favorite_store_ctx = createContext(favorite_store);","map":{"version":3,"sources":["D:/Work/myProject/mac-paw-test/src/store/favorites_store.js"],"names":["createContext","observable","action","decorate","Favorite","addOrRemoveFavorite","joke","checkJokeExist","favoritesList","findIndex","jokeItem","id","filter","favorite","push","updateInsideLocalstorage","localStorage","setItem","JSON","stringify","constructor","parse","getItem","bind","changeFillOfHeat","favorite_store","favorite_store_ctx"],"mappings":"AAAA,SAASA,aAAT,QAA8B,OAA9B;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,QAA7B,QAA6C,MAA7C;;AAEA,MAAMC,QAAN,CAAe;AAGXC,EAAAA,mBAAmB,CAACC,IAAD,EAAO;AACtB,UAAMC,cAAc,GAAG,KAAKC,aAAL,CAAmBC,SAAnB,CAA6BC,QAAQ,IAAIA,QAAQ,CAACC,EAAT,KAAgBL,IAAI,CAACK,EAA9D,MAAuE,CAAE,CAAhG;;AACA,QAAIJ,cAAJ,EAAoB;AAChB,WAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBI,MAAnB,CAA0BC,QAAQ,IAAIA,QAAQ,CAACF,EAAT,KAAgBL,IAAI,CAACK,EAA3D,CAArB;AACH,KAFD,MAEO;AACH,WAAKH,aAAL,CAAmBM,IAAnB,CAAwBR,IAAxB;AACH;;AACD,SAAKS,wBAAL;AACH;;AAEDA,EAAAA,wBAAwB,GAAG;AACvBC,IAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCC,IAAI,CAACC,SAAL,CAAe,KAAKX,aAApB,CAAtC;AACH;;AAEDY,EAAAA,WAAW,GAAG;AAAA,SAhBdZ,aAgBc,GAhBE,EAgBF;AACV,SAAKA,aAAL,GAAqBU,IAAI,CAACG,KAAL,CAAWL,YAAY,CAACM,OAAb,CAAqB,eAArB,CAAX,KAAqD,EAA1E;AACA,SAAKjB,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBkB,IAAzB,CAA8B,IAA9B,CAA3B;AACA,SAAKR,wBAAL,GAAgC,KAAKA,wBAAL,CAA8BQ,IAA9B,CAAmC,IAAnC,CAAhC;AACH;;AArBU;;AAwBfpB,QAAQ,CAACC,QAAD,EAAW;AACfC,EAAAA,mBAAmB,EAAEH,MADN;AAEfa,EAAAA,wBAAwB,EAAEb,MAFX;AAGfsB,EAAAA,gBAAgB,EAAEtB,MAHH;AAIfM,EAAAA,aAAa,EAAEP;AAJA,CAAX,CAAR;AAOA,OAAO,MAAMwB,cAAc,GAAG,IAAIrB,QAAJ,EAAvB;AACP,OAAO,MAAMsB,kBAAkB,GAAG1B,aAAa,CAACyB,cAAD,CAAxC","sourcesContent":["import { createContext } from 'react';\nimport { observable, action, decorate } from 'mobx';\n\nclass Favorite {\n    favoritesList = [];\n\n    addOrRemoveFavorite(joke) {\n        const checkJokeExist = this.favoritesList.findIndex(jokeItem => jokeItem.id === joke.id ) !== - 1;\n        if (checkJokeExist) {\n            this.favoritesList = this.favoritesList.filter(favorite => favorite.id !== joke.id);\n        } else {\n            this.favoritesList.push(joke);\n        }\n        this.updateInsideLocalstorage();\n    }\n\n    updateInsideLocalstorage() {\n        localStorage.setItem('favoritesList', JSON.stringify(this.favoritesList));\n    }\n\n    constructor() {\n        this.favoritesList = JSON.parse(localStorage.getItem('favoritesList')) || [];\n        this.addOrRemoveFavorite = this.addOrRemoveFavorite.bind(this);\n        this.updateInsideLocalstorage = this.updateInsideLocalstorage.bind(this);\n    }\n}\n\ndecorate(Favorite, {\n    addOrRemoveFavorite: action,\n    updateInsideLocalstorage: action,\n    changeFillOfHeat: action,\n    favoritesList: observable,\n})\n\nexport const favorite_store = new Favorite();\nexport const favorite_store_ctx = createContext(favorite_store);\n"]},"metadata":{},"sourceType":"module"}