{"ast":null,"code":"import { createContext } from 'react';\nimport { observable, action, decorate } from 'mobx';\nimport { joke_api } from '../api/joke';\n\nclass Main {\n  async getCategories() {\n    const res = await joke_api.getCategoryList();\n    this.categories = res.data;\n  }\n\n  async getJokeByCategory(category) {\n    this.clean();\n    const res = await joke_api.getJokeFromCat(category);\n    this.jokeList.push(res.data);\n  }\n\n  async getRandomJoke() {\n    this.clean();\n    const res = await joke_api.getRandomJoke();\n    this.jokeList.push(res.data);\n  }\n\n  async getJokeBySearchField(searchText) {\n    this.clean();\n    const res = await joke_api.getFreeTextSearch(searchText);\n    this.jokeList = res.data.result;\n  }\n\n  jokeLikeOrUnlike() {\n    this.isFavoiriteJoke = !this.isFavoiriteJoke;\n  }\n\n  clean() {\n    this.jokeList = [];\n  }\n\n  constructor() {\n    this.categories = [];\n    this.jokeList = [];\n    this.isFavoiriteJoke = false;\n    this.isFavoiriteJoke = false;\n    this.getCategories = this.getCategories.bind(this);\n    this.getJokeBySearchField = this.getJokeBySearchField.bind(this);\n    this.getJokeByCategory = this.getJokeByCategory.bind(this);\n    this.getRandomJoke = this.getRandomJoke.bind(this);\n    this.jokeLikeOrUnlike = this.jokeLikeOrUnlike.bind(this);\n    this.clean = this.clean.bind(this);\n  }\n\n}\n\ndecorate(Main, {\n  categories: observable,\n  jokeList: observable,\n  getCategories: action,\n  getJokeByCategory: action,\n  getJokeBySearchField: action,\n  jokeLikeOrUnlike: action,\n  isFavoiriteJoke: observable,\n  clean: action,\n  getRandomJoke: action\n});\nexport const main_store = new Main();\nexport const main_store_ctx = createContext(main_store);","map":{"version":3,"sources":["D:/Work/myProject/mac-paw-test/src/store/main_store.js"],"names":["createContext","observable","action","decorate","joke_api","Main","getCategories","res","getCategoryList","categories","data","getJokeByCategory","category","clean","getJokeFromCat","jokeList","push","getRandomJoke","getJokeBySearchField","searchText","getFreeTextSearch","result","jokeLikeOrUnlike","isFavoiriteJoke","constructor","bind","main_store","main_store_ctx"],"mappings":"AAAA,SAASA,aAAT,QAA8B,OAA9B;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,QAA7B,QAA6C,MAA7C;AAEA,SAASC,QAAT,QAAyB,aAAzB;;AAEA,MAAMC,IAAN,CAAW;AAKP,QAAMC,aAAN,GAAsB;AAClB,UAAMC,GAAG,GAAG,MAAMH,QAAQ,CAACI,eAAT,EAAlB;AACA,SAAKC,UAAL,GAAkBF,GAAG,CAACG,IAAtB;AACH;;AAED,QAAMC,iBAAN,CAAwBC,QAAxB,EAAkC;AAC9B,SAAKC,KAAL;AACA,UAAMN,GAAG,GAAG,MAAOH,QAAQ,CAACU,cAAT,CAAwBF,QAAxB,CAAnB;AACA,SAAKG,QAAL,CAAcC,IAAd,CAAmBT,GAAG,CAACG,IAAvB;AACH;;AAED,QAAMO,aAAN,GAAsB;AAClB,SAAKJ,KAAL;AACA,UAAMN,GAAG,GAAG,MAAMH,QAAQ,CAACa,aAAT,EAAlB;AACA,SAAKF,QAAL,CAAcC,IAAd,CAAmBT,GAAG,CAACG,IAAvB;AACH;;AAED,QAAMQ,oBAAN,CAA2BC,UAA3B,EAAuC;AACnC,SAAKN,KAAL;AACA,UAAMN,GAAG,GAAG,MAAMH,QAAQ,CAACgB,iBAAT,CAA2BD,UAA3B,CAAlB;AACA,SAAKJ,QAAL,GAAgBR,GAAG,CAACG,IAAJ,CAASW,MAAzB;AACH;;AAEDC,EAAAA,gBAAgB,GAAE;AACd,SAAKC,eAAL,GAAuB,CAAC,KAAKA,eAA7B;AACH;;AAEDV,EAAAA,KAAK,GAAG;AACJ,SAAKE,QAAL,GAAgB,EAAhB;AACH;;AAEDS,EAAAA,WAAW,GAAG;AAAA,SAnCdf,UAmCc,GAnCD,EAmCC;AAAA,SAlCdM,QAkCc,GAlCH,EAkCG;AAAA,SAjCdQ,eAiCc,GAjCI,KAiCJ;AACV,SAAKA,eAAL,GAAqB,KAArB;AACA,SAAKjB,aAAL,GAAqB,KAAKA,aAAL,CAAmBmB,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKP,oBAAL,GAA4B,KAAKA,oBAAL,CAA0BO,IAA1B,CAA+B,IAA/B,CAA5B;AACA,SAAKd,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBc,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKR,aAAL,GAAqB,KAAKA,aAAL,CAAmBQ,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKH,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBG,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKZ,KAAL,GAAa,KAAKA,KAAL,CAAWY,IAAX,CAAgB,IAAhB,CAAb;AACH;;AA5CM;;AA+CXtB,QAAQ,CAACE,IAAD,EAAO;AACXI,EAAAA,UAAU,EAAER,UADD;AAEXc,EAAAA,QAAQ,EAAEd,UAFC;AAGXK,EAAAA,aAAa,EAAEJ,MAHJ;AAIXS,EAAAA,iBAAiB,EAAET,MAJR;AAKXgB,EAAAA,oBAAoB,EAAEhB,MALX;AAMXoB,EAAAA,gBAAgB,EAAEpB,MANP;AAOXqB,EAAAA,eAAe,EAAEtB,UAPN;AAQXY,EAAAA,KAAK,EAAEX,MARI;AASXe,EAAAA,aAAa,EAAEf;AATJ,CAAP,CAAR;AAYA,OAAO,MAAMwB,UAAU,GAAG,IAAIrB,IAAJ,EAAnB;AACP,OAAO,MAAMsB,cAAc,GAAG3B,aAAa,CAAC0B,UAAD,CAApC","sourcesContent":["import { createContext } from 'react';\nimport { observable, action, decorate } from 'mobx';\n\nimport { joke_api } from '../api/joke';\n\nclass Main {\n    categories = [];\n    jokeList = [];\n    isFavoiriteJoke = false;\n\n    async getCategories() {\n        const res = await joke_api.getCategoryList();\n        this.categories = res.data;\n    }\n\n    async getJokeByCategory(category) {\n        this.clean()\n        const res = await  joke_api.getJokeFromCat(category);\n        this.jokeList.push(res.data);\n    }\n\n    async getRandomJoke() {\n        this.clean()\n        const res = await joke_api.getRandomJoke()\n        this.jokeList.push(res.data);\n    }\n\n    async getJokeBySearchField(searchText) {\n        this.clean()\n        const res = await joke_api.getFreeTextSearch(searchText);\n        this.jokeList = res.data.result;\n    }\n\n    jokeLikeOrUnlike(){\n        this.isFavoiriteJoke = !this.isFavoiriteJoke\n    }\n\n    clean() {\n        this.jokeList = [];\n    }\n\n    constructor() {\n        this.isFavoiriteJoke=false\n        this.getCategories = this.getCategories.bind(this);\n        this.getJokeBySearchField = this.getJokeBySearchField.bind(this);\n        this.getJokeByCategory = this.getJokeByCategory.bind(this);\n        this.getRandomJoke = this.getRandomJoke.bind(this);\n        this.jokeLikeOrUnlike = this.jokeLikeOrUnlike.bind(this);\n        this.clean = this.clean.bind(this);\n    }\n}\n\ndecorate(Main, {\n    categories: observable,\n    jokeList: observable,\n    getCategories: action,\n    getJokeByCategory: action,\n    getJokeBySearchField: action,\n    jokeLikeOrUnlike: action,\n    isFavoiriteJoke: observable,\n    clean: action,\n    getRandomJoke: action\n})\n\nexport const main_store = new Main();\nexport const main_store_ctx = createContext(main_store);\n"]},"metadata":{},"sourceType":"module"}